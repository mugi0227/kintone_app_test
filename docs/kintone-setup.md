# kintoneアプリ設定手順書

このドキュメントでは、キャリアアンカー診断アプリをkintoneで作成する手順を、初心者の方にもわかりやすく説明します。

## 📋 目次
1. [アプリの作成](#1-アプリの作成)
2. [フィールドの設定](#2-フィールドの設定)
3. [JavaScriptカスタマイズの適用](#3-javascriptカスタマイズの適用)
4. [動作確認](#4-動作確認)

---

## 1. アプリの作成

### 手順
1. kintoneにログイン
2. 画面右上の「+」ボタンをクリック
3. 「アプリを作成」をクリック
4. 「はじめから作成」を選択
5. アプリ名を「キャリアアンカー診断」と入力
6. 「作成」ボタンをクリック

---

## 2. フィールドの設定

### 2-1. 基本情報フィールド

まず、診断を受ける人の基本情報を入れるフィールドを作成します。

#### フィールド一覧
| フィールド名 | フィールドタイプ | フィールドコード | 備考 |
|------------|---------------|----------------|------|
| 氏名 | 文字列（1行） | name | - |
| 診断日 | 日付 | diagnosis_date | 自動で今日の日付を入れる設定推奨 |

### 2-2. 質問フィールド（Q1〜Q40）

40問の質問に対する回答フィールドを作成します。

#### 設定方法
各質問について、以下の設定で**ラジオボタン**フィールドを作成します:

**重要:** 必ず**ラジオボタン**を使用してください（ドロップダウンではありません）

| 項目 | 設定内容 |
|------|---------|
| フィールドタイプ | ラジオボタン |
| フィールド名 | Q1, Q2, Q3... Q40 |
| フィールドコード | q1, q2, q3... q40 |
| 選択肢 | 1<br>2<br>3<br>4<br>5 |
| 選択肢の並び | 横に並べる（推奨） |
| 必須項目 | チェックを**入れない** |

#### 質問文の設定
各質問の上に「スペース」フィールドを配置して、質問文を表示します:

1. 「スペース」フィールドを追加
2. 「要素ID」に `question_1`, `question_2`... `question_40` を設定
3. ラジオボタンフィールドの**直前**に配置

**例: Q1の場合**
```
[スペース] ← 要素ID: question_1
[ラジオボタン] ← フィールドコード: q1
```

> **なぜスペースフィールドを使うの?**
> JavaScriptで質問文を動的に表示するためです。後ほどJavaScriptが自動で質問文を埋め込みます。

### 2-3. お気に入り選択フィールド

最高点の問題から3つ選ぶためのフィールドです。

| フィールド名 | フィールドタイプ | フィールドコード | 備考 |
|------------|---------------|----------------|------|
| お気に入り1 | ドロップダウン | favorite_1 | 選択肢は後でJavaScriptが設定 |
| お気に入り2 | ドロップダウン | favorite_2 | 選択肢は後でJavaScriptが設定 |
| お気に入り3 | ドロップダウン | favorite_3 | 選択肢は後でJavaScriptが設定 |

これらの上にも「スペース」フィールドを配置:
- 要素ID: `favorites_container`

### 2-4. スコア表示フィールド

8つのキャリアタイプごとのスコアを表示するフィールドです。

| フィールド名 | フィールドタイプ | フィールドコード | 初期値 | 小数点以下桁数 |
|------------|---------------|----------------|--------|--------------|
| TFスコア | 数値 | score_tf | 0 | 0 |
| GMスコア | 数値 | score_gm | 0 | 0 |
| AUスコア | 数値 | score_au | 0 | 0 |
| SEスコア | 数値 | score_se | 0 | 0 |
| ECスコア | 数値 | score_ec | 0 | 0 |
| SVスコア | 数値 | score_sv | 0 | 0 |
| CHスコア | 数値 | score_ch | 0 | 0 |
| LSスコア | 数値 | score_ls | 0 | 0 |

**設定のコツ:**
- すべて「表示のみ」にチェックを入れる（ユーザーが直接編集できないようにする）
- 「グループ」で囲んで見やすくするのもおすすめ

### 2-5. 判定結果フィールド

| フィールド名 | フィールドタイプ | フィールドコード | 備考 |
|------------|---------------|----------------|------|
| あなたのキャリアタイプ | 文字列（複数行） | career_type_result | 表示のみにチェック |

---

## 3. JavaScriptカスタマイズの適用

### 手順

#### 3-1. 設定画面を開く
1. アプリの設定画面（歯車アイコン）をクリック
2. 「設定」タブを選択
3. 「JavaScript / CSSでカスタマイズ」をクリック

#### 3-2. ファイルをアップロード
1. 「PC」タブを選択
2. 「ファイルを選択」をクリック
3. `src/career-anchor.js` を選択してアップロード
4. もう一度「ファイルを選択」をクリック
5. `src/style.css` を選択してアップロード

#### 3-3. アップロード完了の確認
以下のように表示されていればOKです:
```
✓ career-anchor.js
✓ style.css
```

#### 3-4. 保存
1. 「保存」ボタンをクリック
2. 画面右上の「アプリを更新」ボタンをクリック
3. 「更新」を確認

---

## 4. 動作確認

### テスト手順

#### 4-1. 新規レコードを作成
1. 「+」ボタンで新規レコードを作成
2. 氏名を入力

#### 4-2. 質問に回答
1. Q1〜Q40まで回答（すべて回答する必要はありません）
2. 各質問で1〜5のいずれかを選択

#### 4-3. お気に入り選択
1. すべての質問に回答すると、「お気に入り選択」セクションが表示される
2. 最高点をつけた問題が自動的にリストアップされる
3. その中から3つ選択

#### 4-4. 結果確認
1. 「保存」ボタンをクリック
2. 8つのキャリアタイプのスコアが自動計算される
3. 「あなたのキャリアタイプ」に結果が表示される

### 期待される動作

**正常に動作している場合:**
- 質問文が自動的に表示される
- すべて回答後、お気に入り選択が表示される
- スコアが自動計算される
- 最高点のキャリアタイプが判定される

**うまく動作しない場合:**
- ブラウザのコンソールでエラーを確認（F12キーを押す）
- フィールドコードが正しく設定されているか確認
- JavaScriptファイルが正しくアップロードされているか確認

---

## 🔧 トラブルシューティング

### Q: 質問文が表示されない
**A:** スペースフィールドの要素IDが正しく設定されているか確認してください。
- `question_1`, `question_2`... `question_40` になっているか

### Q: お気に入り選択が表示されない
**A:** 以下を確認してください:
- 40問すべてに回答したか
- スペースフィールドの要素IDが `favorites_container` になっているか

### Q: スコアが計算されない
**A:** 以下を確認してください:
- 数値フィールドのフィールドコードが正しいか
  - `score_tf`, `score_gm`, `score_au`, `score_se`, `score_ec`, `score_sv`, `score_ch`, `score_ls`

### Q: エラーメッセージが表示される
**A:** ブラウザのコンソール（F12キー）でエラー内容を確認してください。
フィールドコードの不一致が原因の場合が多いです。

---

## 📝 フィールドコード一覧（まとめ）

カスタマイズが正しく動作するには、以下のフィールドコードが**正確に**設定されている必要があります。

### 基本情報
- `name` - 氏名
- `diagnosis_date` - 診断日

### 質問フィールド
- `q1` 〜 `q40` - 各質問への回答

### スペースフィールド（要素ID）
- `question_1` 〜 `question_40` - 各質問文の表示エリア
- `favorites_container` - お気に入り選択の表示エリア

### お気に入り選択
- `favorite_1`, `favorite_2`, `favorite_3` - お気に入り選択

### スコア
- `score_tf` - 専門・職能別コンピタンス
- `score_gm` - 全般管理コンピタンス
- `score_au` - 自律・独立
- `score_se` - 保障・安定
- `score_ec` - 起業家的創造性
- `score_sv` - 奉仕・社会貢献
- `score_ch` - 純粋な挑戦
- `score_ls` - 生活様式

### 結果
- `career_type_result` - あなたのキャリアタイプ

---

## 🎉 完成!

お疲れ様でした! これでキャリアアンカー診断アプリの設定は完了です。

何か問題が発生した場合は、このドキュメントのトラブルシューティングセクションを参照してください。
